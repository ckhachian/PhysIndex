{% extends 'search/resultsbase.html' %}

{% load safecycle %}
{% load staticfiles %}

{% block varblock %}
    <div class="infoblock">
        <div class="full_name"><a href="{% url 'indiv' cls='v' name=obj.full_name %}">{{ obj.full_name }}</a> $\left({{ obj.rep_without_dollars }}\right)$</div>
        <div class="normal">
            {{ obj.description }}
            <a href="{{ obj.description_url }}">
            <span class="source">
                <sup style="font-size: 7pt;">[1]</sup><span class="sourceInfo">Learn more on Wikipedia.</span>
            </span></a>
        </div>
        <div class="normal">
            <strong>Units: </strong>
            {% with units_list=obj.units_links.all %}
                {% if units_list %}
                    {{ obj.units }}, where 
                    {% for u in units_list %}
                        {% if forloop.last and not forloop.first %}
                            and {{ u.representation }} is <a href="{% url 'indiv' cls='u' name=u.full_name %}">{{ u.full_name }}</a>.
                        {% elif forloop.first and forloop.last %}
                            {{ u.representation }} is <a href="{% url 'indiv' cls='u' name=u.full_name %}">{{ u.full_name }}</a>.
                        {% else %}
                            {{ u.representation }} is <a href="{% url 'indiv' cls='u' name=u.full_name %}">{{ u.full_name }}</a>,
                        {% endif %}
                    {% endfor %}
                {% else %}
                    dimensionless
                {% endif %}
            {% endwith %}
        </div>
        {% with eqns=obj.equation_set.all %}
        {% with def=obj.definition %}
            {% if eqns or def %}
                <div class="usage">
                    <span class="usagebars"></span><span class="usagetext">Usage</span><span class="usagebars"></span>
                </div>
                    {% if def %}
                        <div class="odddisplay">
                            <span class="eqmath">{{ def.representation }}</span><span class="eqname"><a href="{% url 'indiv' cls='e' name=def %}">{{ def.full_name }}</a></span>
                        </div>
                        {% for eq in eqns %}
                        <div class="{% safe_cycle 'normalrow' 'odddisplay' %}">
                            <span class="{% safe_cycle '' 'eqmath' %}">{{ eq.representation }}</span><span class="eqname"><a href="{% url 'indiv' cls='e' name=eq.full_name %}">{{ eq.full_name }}</a></span>
                        </div>
                        {% endfor %}
                    {% else %}
                        {% for eq in eqns %}
                            <div class="{% safe_cycle 'odddisplay' 'normalrow' %}">
                                <span class="{% safe_cycle 'eqmath' '' %}">{{ eq.representation }}</span><span class="eqname"><a href="{% url 'indiv' cls='e' name=eq.full_name %}">{{ eq.full_name }}</a></span>
                            </div>
                        {% endfor %}
                    {% endif %}
            {% endif %}
        {% endwith %}
        {% endwith %}
    </div>
    {% block varadmintools %}{% endblock %}
{% endblock %}

{% block unitblock %}
    <div class="infoblock">
        <div class="full_name"><a href="{% url 'indiv' cls='u' name=obj.full_name %}">{{ obj.full_name }}</a> $\left({{ obj.rep_without_dollars }}\right)$</div>
        <div class="normal">
            {{ obj.description }}
            <a href="{{ obj.description_url }}">
            <span class="source">
                <sup style="font-size: 7pt;">[1]</sup><span class="sourceInfo">Learn more on Wikipedia.</span>
            </span></a>
        </div>
        <div class="normal">
            <strong>Composition: </strong>
            {% if obj.composition %}{% ifnotequal obj.composition 'base' %}
                {% with units=obj.composition_links.all %}
                    {% if units %}
                        {{ obj.composition }}, where 
                        {% for u in units %}
                            {% if forloop.last and not forloop.first %}
                                and {{ u.representation }} is <a href="{% url 'indiv' cls='u' name=u.full_name %}">{{ u.full_name }}</a>.
                            {% elif forloop.first and forloop.last %}
                                {{ u.representation }} is <a href="{% url 'indiv' cls='u' name=u.full_name %}">{{ u.full_name }}</a>.
                            {% else %}
                                {{ u.representation }} is <a href="{% url 'indiv' cls='u' name=u.full_name %}">{{ u.full_name }}</a>,
                            {% endif %}
                        {% endfor %}
                    {% else %}
                        {{ obj.representation }} is a base unit.
                    {% endif %}
                {% endwith %}
            {% else %}
                {{ obj.representation }} is a base unit.
            {% endifnotequal %}
            {% else %}
                {{ obj.representation }} is a base unit.
            {% endif %}
        </div>
    </div>
    {% block unitadmintools %}{% endblock %}
{% endblock %}

{% block eqblock %}
    <div class="infoblock">
        <div class="full_name"><a href="{% url 'indiv' cls='e' name=obj.full_name %}">{{ obj.full_name }}</a></div>
        <div class="full_name" style="padding-top: 10px;">{{ obj.representation }}</div>
        <div class="normal">
            {{ obj.description }}
            <a href="{{ obj.description_url }}">
            <span class="source">
                <sup style="font-size: 7pt;">[1]</sup><span class="sourceInfo">Learn more on Wikipedia.</span>
            </span></a>
        </div>
        {% with vars=obj.variables.all %}
            {% with defvar=obj.defined_var %}
            {% if vars or defvar %}
                <div class="usage">
                    <span class="usagebars"></span><span class="usagetext">Composition</span><span class="usagebars"></span>
                </div>
                {% if defvar %}
                    <div class="odddisplay">
                        <span class="eqmath">{{ defvar.representation }}</span><span class="eqname"><a href="{% url 'indiv' cls='v' name=defvar %}">{{ defvar.full_name }}</a></span>
                    </div>
                    {% for var in vars %}
                    <div class="{% safe_cycle 'normalrow' 'odddisplay' %}">
                        <span class="{% safe_cycle '' 'eqmath' %}">{{ var.representation }}</span><span class="eqname"><a href="{% url 'indiv' cls='v' name=var.full_name %}">{{ var.full_name }}</a></span>
                    </div>
                    {% endfor %}
                {% else %}
                    {% for var in vars %}
                        <div class="{% safe_cycle 'odddisplay' 'normalrow' %}">
                            <span class="{% safe_cycle 'eqmath' '' %}">{{ var.representation }}</span><span class="eqname"><a href="{% url 'indiv' cls='v' name=var.full_name %}">{{ var.full_name }}</a></span>
                        </div>
                    {% endfor %}
                {% endif %}
            {% endif %}
            {% endwith %}
        {% endwith %}
    </div>
    {% block eqadmintools %}{% endblock %}
{% endblock %}

{% block noresults %}
    <div class="infoblock">
        <div class="full_name">Sorry, we can't find any results for that.</div>
        <div class="normal">These are the kind of things you should try searching for:</div>
        <table class="fixed">
            <tr>
                <td><strong>1.</strong></td>
                <td>The symbol used to represent a physics variable<br />
                    <i>Examples: <a href="http://www.physindex.com/?query=m">m</a>, <a href="http://www.physindex.com/?query=F">F</a>, <a href="http://www.physindex.com/?query=theta">theta</a></i></td>
            </tr>
            <tr>
                <td><strong>2.</strong></td>
                <td>The name of a variable, constant, unit, or equation<br />
                    <i>Examples: <a href="http://www.physindex.com/?query=mass">mass</a>, <a href="http://www.physindex.com/?query=Newton's+Second+Law">Newton's Second Law</a>, <a href="http://www.physindex.com/?query=angle">angle</a></i></td>
            </tr>
            <tr>
                <td><strong>3.</strong></td>
                <td>A full equation or a piece of it<br />
                    <i>Examples: <a href="http://www.physindex.com/?query=F+%3D+ma">F = ma</a>, <a href="http://www.physindex.com/?query=rxf">rxf</a>, <a href="http://www.physindex.com/?query=T+%3D+1%2F(freq)">T = 1/(freq)</a></i></td>
            </tr>
        </table>
        <div class="normal"><strong>Still can't find what you need?</strong><br />
            <a href="mailto:physindex@gmail.com">Send us an email</a> and let us know what's missing.
        </div>
    </div>
{% endblock %}