{% extends 'search/resultsbase.html' %}

{% load safecycle %}
{% load staticfiles %}

{% block varblock %}
    <article>
        <h1><a href="{% url 'indiv' cls='v' name=obj.full_name %}">{{ obj.full_name }}</a> $\left({{ obj.rep_without_dollars }}\right)$</h1>
        <p>
            {{ obj.description }}
            <a href="{{ obj.description_url }}">Read more.</a>
        </p>
        <p>
            <strong>Units: </strong>
            {% with units_list=obj.units_links.all %}
                {% if units_list %}
                    {{ obj.units }}, where 
                    {% for u in units_list %}
                        {% if forloop.last and not forloop.first %}
                            and {{ u.representation }} is <a href="{% url 'indiv' cls='u' name=u.full_name %}">{{ u.full_name }}</a>.
                        {% elif forloop.first and forloop.last %}
                            {{ u.representation }} is <a href="{% url 'indiv' cls='u' name=u.full_name %}">{{ u.full_name }}</a>.
                        {% else %}
                            {{ u.representation }} is <a href="{% url 'indiv' cls='u' name=u.full_name %}">{{ u.full_name }}</a>,
                        {% endif %}
                    {% endfor %}
                {% else %}
                    dimensionless
                {% endif %}
            {% endwith %}
        </p>
        {% with eqns=obj.equation_set.all %}
        {% with def=obj.definition %}
            {% if eqns or def %}
                <h2>
                    <span class="blackbar"></span><span class="sectname">Usage</span><span class="blackbar"></span>
                </h2>
                    {% if def %}
                        <div class="odd">
                            <span class="eqmath">{{ def.representation }}</span><span class="eqname"><a href="{% url 'indiv' cls='e' name=def %}">{{ def.full_name }}</a></span>
                        </div>
                        {% for eq in eqns %}
                        <div class="{% safe_cycle 'even' 'odd' %}">
                            <span class="{% safe_cycle '' 'eqmath' %}">{{ eq.representation }}</span><span class="eqname"><a href="{% url 'indiv' cls='e' name=eq.full_name %}">{{ eq.full_name }}</a></span>
                        </div>
                        {% endfor %}
                    {% else %}
                        {% for eq in eqns %}
                            <div class="{% safe_cycle 'odd' 'even' %}">
                                <span class="{% safe_cycle 'eqmath' '' %}">{{ eq.representation }}</span><span class="eqname"><a href="{% url 'indiv' cls='e' name=eq.full_name %}">{{ eq.full_name }}</a></span>
                            </div>
                        {% endfor %}
                    {% endif %}
            {% endif %}
        {% endwith %}
        {% endwith %}
    </article>
    {% block varadmintools %}{% endblock %}
{% endblock %}

{% block unitblock %}
    <article>
        <h1><a href="{% url 'indiv' cls='u' name=obj.full_name %}">{{ obj.full_name }}</a> $\left({{ obj.rep_without_dollars }}\right)$</h1>
        <p>
            {{ obj.description }}
            <a href="{{ obj.description_url }}">
            <span class="source">
                <sup style="font-size: 7pt;">[1]</sup><span class="sourceInfo">Learn more on Wikipedia.</span>
            </span></a>
        </p>
        <p>
            <strong>Composition: </strong>
            {% if obj.composition %}{% ifnotequal obj.composition 'base' %}
                {% with units=obj.composition_links.all %}
                    {% if units %}
                        {{ obj.composition }}, where 
                        {% for u in units %}
                            {% if forloop.last and not forloop.first %}
                                and {{ u.representation }} is <a href="{% url 'indiv' cls='u' name=u.full_name %}">{{ u.full_name }}</a>.
                            {% elif forloop.first and forloop.last %}
                                {{ u.representation }} is <a href="{% url 'indiv' cls='u' name=u.full_name %}">{{ u.full_name }}</a>.
                            {% else %}
                                {{ u.representation }} is <a href="{% url 'indiv' cls='u' name=u.full_name %}">{{ u.full_name }}</a>,
                            {% endif %}
                        {% endfor %}
                    {% else %}
                        {{ obj.representation }} is a base unit.
                    {% endif %}
                {% endwith %}
            {% else %}
                {{ obj.representation }} is a base unit.
            {% endifnotequal %}
            {% else %}
                {{ obj.representation }} is a base unit.
            {% endif %}
        </p>
    </article>
    {% block unitadmintools %}{% endblock %}
{% endblock %}

{% block eqblock %}
    <article>
        <h1><a href="{% url 'indiv' cls='e' name=obj.full_name %}">{{ obj.full_name }}</a></h1>
        <h1 class="full_name" style="padding-top: 10px;">{{ obj.representation }}</h1>
        <p>
            {{ obj.description }}
            <a href="{{ obj.description_url }}">
            <span class="source">
                <sup style="font-size: 7pt;">[1]</sup><span class="sourceInfo">Learn more on Wikipedia.</span>
            </span></a>
        </p>
        {% with vars=obj.variables.all %}
            {% with defvar=obj.defined_var %}
            {% if vars or defvar %}
                <h2><span class="blackbar hidden-xs"></span><span class="sectname">Composition</span><span class="blackbar hidden-xs"></span></h2>
                {% if defvar %}
                    <div class="odd">
                        <span>{{ defvar.representation }}</span><span class="eqname"><a href="{% url 'indiv' cls='v' name=defvar %}">{{ defvar.full_name }}</a></span>
                    </div>
                    {% for var in vars %}
                    <div class="{% safe_cycle 'even' 'odd' %}">
                        <span>{{ var.representation }}</span><span class="eqname"><a href="{% url 'indiv' cls='v' name=var.full_name %}">{{ var.full_name }}</a></span>
                    </div>
                    {% endfor %}
                {% else %}
                    {% for var in vars %}
                        <div class="{% safe_cycle 'odd' 'even' %}">
                            <span>{{ var.representation }}</span><span class="eqname"><a href="{% url 'indiv' cls='v' name=var.full_name %}">{{ var.full_name }}</a></span>
                        </div>
                    {% endfor %}
                {% endif %}
            {% endif %}
            {% endwith %}
        {% endwith %}
    </article>
    {% block eqadmintools %}{% endblock %}
{% endblock %}

{% block noresults %}
    <article>
        <h1>Sorry, we can't find any results for that.</h1>
        <p>These are the kind of things you should try searching for:</p>
        <div><table class="fixed">
            <tr>
                <td><strong>1.</strong></td>
                <td>The symbol used to represent a physics variable<br />
                    <i>Examples: <a href="http://www.physindex.com/?query=m">m</a>, <a href="http://www.physindex.com/?query=F">F</a>, <a href="http://www.physindex.com/?query=theta">theta</a></i></td>
            </tr>
            <tr>
                <td><strong>2.</strong></td>
                <td>The name of a variable, constant, unit, or equation<br />
                    <i>Examples: <a href="http://www.physindex.com/?query=mass">mass</a>, <a href="http://www.physindex.com/?query=Newton's+Second+Law">Newton's Second Law</a>, <a href="http://www.physindex.com/?query=angle">angle</a></i></td>
            </tr>
            <tr>
                <td><strong>3.</strong></td>
                <td>A full equation or a piece of it<br />
                    <i>Examples: <a href="http://www.physindex.com/?query=F+%3D+ma">F = ma</a>, <a href="http://www.physindex.com/?query=rxf">rxf</a>, <a href="http://www.physindex.com/?query=T+%3D+1%2F(freq)">T = 1/(freq)</a></i></td>
            </tr>
        </table></div>
        <p><strong>Still can't find what you need?</strong><br />
            <a href="mailto:physindex@gmail.com">Send us an email</a> and let us know what's missing.
        </p>
    </article>
{% endblock %}